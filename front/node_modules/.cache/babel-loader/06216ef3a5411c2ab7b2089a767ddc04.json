{"remainingRequest":"/tmp/g2-eq1_dev/front/node_modules/babel-loader/lib/index.js!/tmp/g2-eq1_dev/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/tmp/g2-eq1_dev/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/tmp/g2-eq1_dev/front/src/components/issues/DifficultyManagement.vue?vue&type=script&lang=js&","dependencies":[{"path":"/tmp/g2-eq1_dev/front/src/components/issues/DifficultyManagement.vue","mtime":1605890499732},{"path":"/tmp/g2-eq1_dev/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/tmp/g2-eq1_dev/front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/tmp/g2-eq1_dev/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/tmp/g2-eq1_dev/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICIvdG1wL2cyLWVxMV9kZXYvZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgZHJhZ2dhYmxlIGZyb20gInZ1ZWRyYWdnYWJsZSI7CmltcG9ydCBpc3N1ZVN1bW1hcnkgZnJvbSAiLi9zdWJDb21wb25lbnRzL0lzc3VlU3VtbWFyeSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRGlmZmljdWx0eU1hbmFnZW1lbnQiLAogIG9yZGVyOiAxLAogIGNvbXBvbmVudHM6IHsKICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlLAogICAgaXNzdWVTdW1tYXJ5OiBpc3N1ZVN1bW1hcnkKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1bmFzc2lnbmVkSXNzdWVzOiBbXSwKICAgICAgZGlmZmljdWx0eUxpc3Q6IFt7CiAgICAgICAgZGlmZmljdWx0eTogMSwKICAgICAgICBpc3N1ZXM6IFtdCiAgICAgIH1dCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5heGlvcy5nZXQodGhpcy4kcHJveHkgKyAiL2lzc3VlcyIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHZhciBpc3N1ZXMgPSByZXNwb25zZS5kYXRhOwoKICAgICAgX3RoaXMuc29ydElzc3Vlcyhpc3N1ZXMpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2c6IGZ1bmN0aW9uIGxvZyhldnQpIHsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKGV2dCk7CiAgICB9LAogICAgYWRkRGlmZmljdWx0eTogZnVuY3Rpb24gYWRkRGlmZmljdWx0eSgpIHsKICAgICAgdGhpcy5kaWZmaWN1bHR5TGlzdC5wdXNoKHsKICAgICAgICBkaWZmaWN1bHR5OiBmaWJvbmFjY2kodGhpcy5kaWZmaWN1bHR5TGlzdC5sZW5ndGggKyAxKSwKICAgICAgICBpc3N1ZXM6IFtdCiAgICAgIH0pOwogICAgfSwKICAgIGFwcGx5Q2hhbmdlczogZnVuY3Rpb24gYXBwbHlDaGFuZ2VzKCkgewogICAgICAvL0Vudm95ZXIgYXUgc2VydmV1ciAgZCdpc3N1ZXMgIGxhIGxpc3RlLgogICAgICB0aGlzLmF4aW9zLnB1dCh0aGlzLiRwcm94eSArICIvaXNzdWVzL21hbmFnZURpZmZpY3VsdHkiLCB7CiAgICAgICAgZGlmZmljdWx0eUxpc3Q6IHRoaXMuZGlmZmljdWx0eUxpc3QKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAogICAgc29ydElzc3VlczogZnVuY3Rpb24gc29ydElzc3Vlcyhpc3N1ZXMpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoaXNzdWVzKSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICB2YXIgX2xvb3AyID0gZnVuY3Rpb24gX2xvb3AyKCkgewogICAgICAgICAgdmFyIGlzc3VlID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgLy93aW5kb3cuY29uc29sZS5sb2coaXNzdWUpOwogICAgICAgICAgaWYgKGlzc3VlLmRpZmZpY3VsdHkgPT0gdW5kZWZpbmVkIHx8IGlzc3VlLmRpZmZpY3VsdHkgPT0gbnVsbCB8fCBpc3N1ZS5kaWZmaWN1bHR5ID09IDApIHsKICAgICAgICAgICAgX3RoaXMyLnVuYXNzaWduZWRJc3N1ZXMucHVzaChpc3N1ZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2YXIgZGlmZmljdWx0eSA9IF90aGlzMi5kaWZmaWN1bHR5TGlzdC5maW5kKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuZGlmZmljdWx0eSA9PT0gaXNzdWUuZGlmZmljdWx0eTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBpZiAoZGlmZmljdWx0eSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgX3RoaXMyLmRpZmZpY3VsdHlMaXN0LnB1c2goewogICAgICAgICAgICAgICAgZGlmZmljdWx0eTogaXNzdWUuZGlmZmljdWx0eSwKICAgICAgICAgICAgICAgIGlzc3VlczogW2lzc3VlXQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGRpZmZpY3VsdHkuaXNzdWVzLnB1c2goaXNzdWUpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIF9sb29wMigpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CgogICAgICB2YXIgbWF4RGlmZmljdWx0eSA9IDA7CiAgICAgIHRoaXMuZGlmZmljdWx0eUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoZGlmZikgewogICAgICAgIGlmIChkaWZmLmRpZmZpY3VsdHkgPiBtYXhEaWZmaWN1bHR5KSBtYXhEaWZmaWN1bHR5ID0gZGlmZi5kaWZmaWN1bHR5OwogICAgICB9KTsKCiAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKG4pIHsKICAgICAgICBpZiAoX3RoaXMyLmRpZmZpY3VsdHlMaXN0LmZpbmQoZnVuY3Rpb24gKGVsbSkgewogICAgICAgICAgcmV0dXJuIGVsbS5kaWZmaWN1bHR5ID09PSBmaWJvbmFjY2kobik7CiAgICAgICAgfSkgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgX3RoaXMyLmRpZmZpY3VsdHlMaXN0LnB1c2goewogICAgICAgICAgICBkaWZmaWN1bHR5OiBmaWJvbmFjY2kobiksCiAgICAgICAgICAgIGlzc3VlczogW10KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIGZvciAodmFyIG4gPSAxOyBmaWJvbmFjY2kobikgPCBtYXhEaWZmaWN1bHR5OyBuKyspIHsKICAgICAgICBfbG9vcChuKTsKICAgICAgfQoKICAgICAgdGhpcy5kaWZmaWN1bHR5TGlzdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGEuZGlmZmljdWx0eSAtIGIuZGlmZmljdWx0eTsKICAgICAgfSk7CiAgICB9LAogICAgY2FuY2VsQ2hhbmdlczogZnVuY3Rpb24gY2FuY2VsQ2hhbmdlcygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmF4aW9zLmdldCh0aGlzLiRwcm94eSArICIvaXNzdWVzIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczMudW5hc3NpZ25lZElzc3VlcyA9IFtdOwogICAgICAgIF90aGlzMy5kaWZmaWN1bHR5TGlzdCA9IFtdOwogICAgICAgIHZhciBpc3N1ZXMgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICBfdGhpczMuc29ydElzc3Vlcyhpc3N1ZXMpOwogICAgICB9KTsKICAgIH0KICB9Cn07CgpmdW5jdGlvbiBmaWJvbmFjY2kobnVtKSB7CiAgdmFyIG51bTEgPSAwOwogIHZhciBudW0yID0gMTsKICB2YXIgc3VtOwogIHZhciBpID0gMDsKCiAgZm9yIChpID0gMDsgaSA8IG51bTsgaSsrKSB7CiAgICBzdW0gPSBudW0xICsgbnVtMjsKICAgIG51bTEgPSBudW0yOwogICAgbnVtMiA9IHN1bTsKICB9CgogIHJldHVybiBudW0yOwp9"},{"version":3,"sources":["DifficultyManagement.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-3\">\n        <h3 align=\"center\">Non assignés</h3>\n        <draggable\n          v-model=\"unassignedIssues\"\n          group=\"people\"\n          @start=\"drag = true\"\n          @end=\"drag = false\"\n        >\n          <div v-for=\"issue in unassignedIssues\" :key=\"issue.id\">\n            <issueSummary :title=\"issue.title\" :difficulty=\"0\" />\n          </div>\n        </draggable>\n      </div>\n\n      <div\n        class=\"col-3\"\n        v-for=\"difficulty in difficultyList\"\n        :key=\"difficulty.id\"\n      >\n        <h3 align=\"center\">Difficuté: {{ difficulty.difficulty }}</h3>\n        <div>\n          <draggable\n            v-model=\"difficulty.issues\"\n            group=\"people\"\n            @start=\"drag = true\"\n            @end=\"drag = false\"\n          >\n            <div v-for=\"issue in difficulty.issues\" :key=\"issue.id\">\n              <issueSummary\n                :title=\"issue.title\"\n                :difficulty=\"difficulty.difficulty\"\n              />\n            </div>\n          </draggable>\n        </div>\n      </div>\n      <div class=\"col-3\">\n        <button @click=\"addDifficulty\" class=\"btn btn-primary\">\n          Ajouter une difficulté\n        </button>\n      </div>\n    </div>\n    <div class=\"row justify-content-end\">\n      <div class=\"col\" align=\"right\">\n        <button class=\"btn btn-primary\" @click=\"applyChanges\">Appliquer</button>\n        <button class=\"btn btn-primary\" @click=\"cancelChanges\">Annuler</button>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport draggable from \"vuedraggable\";\nimport issueSummary from \"./subComponents/IssueSummary\";\n\nexport default {\n  name: \"DifficultyManagement\",\n  order: 1,\n  components: {\n    draggable,\n    issueSummary,\n  },\n  data() {\n    return {\n      unassignedIssues: [],\n      difficultyList: [\n        {\n          difficulty: 1,\n          issues: [],\n        },\n      ],\n    };\n  },\n  created() {\n    this.axios.get(this.$proxy + \"/issues\").then((response) => {\n      let issues = response.data;\n      this.sortIssues(issues);\n    });\n  },\n  methods: {\n    log: function (evt) {\n      window.console.log(evt);\n    },\n    addDifficulty: function () {\n      this.difficultyList.push({\n        difficulty: fibonacci(this.difficultyList.length + 1),\n        issues: [],\n      });\n    },\n    applyChanges: function () {\n      //Envoyer au serveur  d'issues  la liste.\n      this.axios\n        .put(this.$proxy + \"/issues/manageDifficulty\", {\n          difficultyList: this.difficultyList,\n        })\n        .then(() => {});\n    },\n    sortIssues: function (issues) {\n      for (let issue of issues) {\n        //window.console.log(issue);\n        if (\n          issue.difficulty == undefined ||\n          issue.difficulty == null ||\n          issue.difficulty == 0\n        ) {\n          this.unassignedIssues.push(issue);\n        } \n        else {\n          let difficulty = this.difficultyList.find(\n            (element) => element.difficulty === issue.difficulty\n          );\n          if (difficulty === undefined) {\n            this.difficultyList.push({\n              difficulty: issue.difficulty,\n              issues: [issue],\n            });\n          } \n          else {\n            difficulty.issues.push(issue);\n          }\n        }\n      }\n      let maxDifficulty =0;\n      this.difficultyList.forEach(diff => {\n        if(diff.difficulty > maxDifficulty) maxDifficulty=diff.difficulty;\n        });\n      \n      for(let n = 1; fibonacci(n)<maxDifficulty; n++){\n        if(this.difficultyList.find(elm=>elm.difficulty === fibonacci(n)) === undefined){\n          this.difficultyList.push({difficulty:fibonacci(n), issues:[]});\n        }\n      }\n\n      this.difficultyList.sort((a,b)=>{\n        return a.difficulty - b.difficulty;\n      });\n    },\n    cancelChanges: function () {\n      this.axios.get(this.$proxy + \"/issues\").then((response) => {\n        this.unassignedIssues = [];\n        this.difficultyList = [];\n        let issues = response.data;\n        this.sortIssues(issues);\n      });\n    },\n  },\n};\n\nfunction fibonacci(num) {\n  var num1 = 0;\n  var num2 = 1;\n  var sum;\n  var i = 0;\n  for (i = 0; i < num; i++) {\n    sum = num1 + num2;\n    num1 = num2;\n    num2 = sum;\n  }\n  return num2;\n}\n</script>"],"sourceRoot":"src/components/issues"}]}